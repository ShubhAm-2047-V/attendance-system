<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CC â€“ Full Student Attendance Report | Rollup</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body class="dashboard-bg cc-page page-enter">

<div class="cc-container">

    <div class="cc-card glass-card">

        <!-- Header -->
        <div class="cc-header">
            <h2>ðŸ“Š Full Student Attendance Report</h2>
            <p>Class Coordinator View</p>
        </div>

        <!-- PDF Download Button -->
        <div style="text-align:right; margin-bottom:18px;">
            <a href="{{ url_for('export_cc_pdf') }}"
               class="primary-btn"
               style="width:auto; padding:10px 18px;">
                â¬‡ Download PDF
            </a>
        </div>

        {% if report and report|length > 0 %}

        <!-- Attendance Table -->
        <div class="table-wrapper">
            <table class="attendance-table">

                <!-- TABLE HEAD -->
                <thead>
                    <tr>
                        <th>Student</th>

                        {% for key in report[0].keys() %}
                            {% if key not in ['student', 'total'] %}
                                <th>{{ key }}</th>
                            {% endif %}
                        {% endfor %}

                        <th>Total %</th>
                    </tr>
                </thead>

                <!-- TABLE BODY -->
                <tbody>
                    {% for row in report %}
                    <tr>
                        <td><strong>{{ row.student }}</strong></td>

                        {% for key, value in row.items() %}
                            {% if key not in ['student', 'total'] %}
                                <td>
                                    {{ value if value else 'â€”' }}
                                </td>
                            {% endif %}
                        {% endfor %}

                        <td>
                            <strong>{{ row.total }}</strong>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>

            </table>
        </div>

        {% else %}
            <!-- Empty State -->
            <div class="empty-state">
                ðŸ“­ <strong>No attendance data available</strong>
                <br>
                <small>Once teachers mark attendance, reports will appear here.</small>
            </div>
        {% endif %}

        <!-- Logout -->
        <a href="{{ url_for('logout') }}" class="logout-btn-full">
            Logout
        </a>

    </div>

</div>

</body>
</html>
