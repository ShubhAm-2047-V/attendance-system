<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Student Dashboard | AttendEase</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body class="dashboard-bg student-page">

<div class="student-container">

    <div class="student-card glass" style="position: relative;">

        <!-- ðŸ”” Notification Bell -->
        <div class="notif-bell">
            ðŸ””
            {% if notifications and notifications|length > 0 %}
                <span class="notif-count">{{ notifications|length }}</span>
            {% endif %}
        </div>

        <!-- Greeting -->
        <div class="student-header">
            <h2>ðŸ‘‹ Hi {{ current_user.username }}</h2>
            <p>Your attendance overview</p>
        </div>

        <!-- Stats (kept as-is) -->
        <div class="student-stats">
            <div class="stat-box present">
                <span class="stat-title">Present</span>
                <span class="stat-value">{{ present_count or 0 }}</span>
            </div>

            <div class="stat-box absent">
                <span class="stat-title">Absent</span>
                <span class="stat-value">{{ absent_count or 0 }}</span>
            </div>
        </div>

        <!-- ðŸ”¥ Streak -->
        <div class="streak-box">
            ðŸ”¥ <strong>{{ streak or 0 }}</strong> day streak
        </div>

        <!-- ðŸ”” Notification List -->
        {% if notifications and notifications|length > 0 %}
        <div class="notif-list">
            {% for n in notifications %}
                <div class="notif-item">
                    {{ n.message }}
                </div>
            {% endfor %}
        </div>
        {% endif %}

        <!-- âœ… ATTENDANCE TABLE (DATE + SUBJECT + STATUS) -->
        <div class="table-wrapper">
            <table class="attendance-table">
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>Subject</th>
                        <th>Status</th>
                    </tr>
                </thead>

                <tbody>
                    {% if records and records|length > 0 %}
                        {% for record in records %}
                        <tr>
                            <td>{{ record.date.strftime("%d-%m-%Y") }}</td>
                            <td>{{ record.subject }}</td>
                            <td>
                                <span class="status-badge {{ record.status|lower }}">
                                    {{ record.status }}
                                </span>
                            </td>
                        </tr>
                        {% endfor %}
                    {% else %}
                        <tr>
                            <td colspan="3" class="empty-state">
                                ðŸ“­ No attendance yet  
                                <br>
                                <small>Your records will appear here</small>
                            </td>
                        </tr>
                    {% endif %}
                </tbody>
            </table>
        </div>

        <!-- Logout (already centered & yellow as you wanted) -->
        <div class="logout-wrapper">
            <a href="{{ url_for('logout') }}" class="logout-btn-yellow">
                Logout
            </a>
        </div>

    </div>

</div>

</body>
</html>
